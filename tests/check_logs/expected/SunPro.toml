# vim:set sw=4 ts=8 et fileencoding=utf8:
# SPDX-License-Identifier: BSD-2-Clause
# SPDX-FileCopyrightText: 2025 Сергей Леонтьев (leo@sai.msu.ru)

# SunPro 5.15
#
# HAVE_CV_TYPEOF
# HAVE___TYPEOF__
# HAVE_VLA
# ERROR_ON_NEGATIVE_ARRAY_SIZE
# ERROR_ON_STRUCT_BIT_FIELD
# ERROR_ON_STRUCT_STATIC_ASSERT
# Don't detected ERROR_ON_SIZEOF_POINTER_SUBTRACTION - C99 semantic

[default]
skip = []
ignore_fpe = []
ignore_segmentation_fault = []
ignore_warning = [
    # WARNING: short_example.h, truncating up to 1024
    "Warning: Unrecognized #pr"
    ]
ignore_divide_by_zero_warning = [] 
must_not_failure = [ 
    "stdc_countof-.*",  # Internal, mandatory
    ]
stable_failure = [
    "falsechk_.*",  # Internal

  # countof_ns()
    "pos_vla(|_(cv|00|0n))",  # VLA without _COUNTOF_NS_WANT_С11_VLA
    "pos_vla_n0(|_c11)",  # Zero by zero uncertainty (cases 0/0 != 0)
    "neg(|_cv|_vla)_ptr_c11(|_0_fail)",  # Does not conform to C11 semantics

  # Comparisons
    "(JZMG_ARRAY_LEN|ms_countof)-pos_vla_[n0]0",  # divide_by_zero
    "(JZMG_ARRAY_LEN|ms_countof)-neg(|_cv|_vla)_ptr(|_0_fail)",
    ]
random_failure = [
    "post_check_SunPro.*", # TODO recursion on failure?
    ]
must_not_fpe = [
    "(stdc_countof|std_size)-.*",  # Internal, mandatory
    "(pos|neg)_.*",  # Internal, mandatory
    ]
stable_fpe = [
    "falsechk_fpe.*",  # Internal

  # Comparisons
    "(JZMG_ARRAY_LEN|ms_countof)-pos_vla_[n0]0",  # divide_by_zero
    ]
random_fpe = [
    "post_check_.*-.*",  # Internal, disable recursion
    "falsechk_rfpe.*",  # Internal
    ]
must_not_segmentation_fault = [
    "(stdc_countof|std_size)-.*",  # Internal, mandatory
    "(pos|neg)_.*",  # Internal, mandatory
    ]
stable_segmentation_fault = [
    "falsechk_segv.*",  # Internal
    ]
random_segmentation_fault = [
    "post_check_.*-.*",  # Internal, disable recursion
    ]
must_not_divide_by_zero_warning = [
    "(stdc_countof|std_size)-.*",  # Internal, mandatory
    "(pos|neg)_.*",  # Internal, mandatory
    ]
stable_divide_by_zero_warning = [
  # Comparisons
    ]
random_divide_by_zero_warning = [
    "post_check_.*-.*",  # Internal, disable recursion
  # Comparisons
    ]
must_not_warning = [
    "(stdc_countof|std_size)-.*",  # Internal, mandatory
    # TODO "(pos|neg)_.*",  # Internal, mandatory

    "(pos|neg)_.*[^1]"
    ]
stable_warning = []
random_warning = [
    "post_check_.*-.*",  # Internal, disable recursion

  # countof_ns()
    "neg_other_c11",  # Does not conform to C11 semantics
    "neg(|_cv|_vla)_ptr_c11",  # Does not conform to C11 semantics
    "long_example_vla_fail",

  # Comparisons
    ".*-(pos|neg).*",  # Ignore warnings about comparisons
    ]
[debug]
stable_warning = [
    "neg(|_cv|_vla)_ptr_c11",  # Does not conform to C11 semantics
    ]
